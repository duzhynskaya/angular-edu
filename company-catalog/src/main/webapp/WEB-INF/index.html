<!DOCTYPE HTML>
<html>
<head>
    <title>Company Catalog</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
</head>

<body ng-app="companyCatalogApp">
<div class="container-fluid" ng-controller="CompanyController as catalog" ng-cloak>
    <div class="row">
        <div class="col-sm-4">
            <div class="portal col">
                <div class="item" ng-repeat="item in catalog.items"
                     ng-click="catalog.setEditedItem(item)"
                     ng-class="{'active':catalog.isCurrentItem(item.id)}">

                    <button type="button" class="close" ng-click="catalog.deleteItem(item.id)">&times;</button>
                    <h3>{{item.name}}</h3>
                    <p>{{item.description}}</p>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <!-- CREATING -->
            <div ng-if="!catalog.isEditing" class="col-xs-12">
                <h4>Create a New Item</h4>
                <hr/>
                <form class="create-form" role="form"
                      ng-submit="catalog.createItem(catalog.newItem)" novalidate>
                    <div class="form-group">
                        <input type="text" class="form-control"
                               ng-model="catalog.newItem.name"
                               placeholder="Name" required>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control"
                               ng-model="catalog.newItem.description"
                               placeholder="Description">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control"
                               ng-model="catalog.newItem.address"
                               placeholder="Address">
                    </div>
                    <div class="form-group">
                        <label>Phone</label>
                        <input type="text" class="form-control"
                               ng-model="catalog.newItem.phone">
                    </div>
                    <div class="form-group">
                        <label>Number of employees</label>
                        <input type="text" class="form-control"
                               ng-model="catalog.newItem.size">
                    </div>
                    <button type="submit" class="btn btn-info btn-lg pull-right">Save</button>
                </form>
            </div>
            <!-- EDITING -->
            <div ng-if="catalog.isEditing" class="col-xs-12">
                <h4>Editing {{catalog.editedItem.name}}</h4>
                <hr/>
                <form class="edit-form" role="form" name="editForm"
                      ng-submit="catalog.updateItem(catalog.editedItem)" novalidate>
                    <div class="form-group">
                        <input type="text" class="form-control"
                               ng-model="catalog.editedItem.name"
                               placeholder="Name" required>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control"
                               ng-model="catalog.editedItem.description"
                               placeholder="Description">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control"
                               ng-model="catalog.editedItem.address"
                               placeholder="Address">
                    </div>
                    <div class="form-group">
                        <label>Phone</label>
                        <input type="text" class="form-control"
                               ng-model="catalog.editedItem.phone">
                    </div>
                    <div class="form-group">
                        <label>Number of employees</label>
                        <input type="text" class="form-control"
                               ng-model="catalog.editedItem.size">
                    </div>
                    <button type="submit" class="btn btn-info btn-lg pull-right">Save</button>
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="https://code.angularjs.org/1.5.7/angular.min.js"></script>
<script src="https://code.angularjs.org/1.5.7/angular-resource.min.js"></script>
<script src="/static/lib/ui-bootstrap-tpls-1.3.3.min.js"></script>

<script src="/static/js/myapp.js"></script>
<script src="/static/js/company-service.js"></script>
<script src="/static/js/company-controller.js"></script>

</body>
</html>